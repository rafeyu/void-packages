# Template file for 'clifm'
pkgname=clifm
version=1.0
revision=1
#archs="i686 x86_64"
wrksrc=${pkgname}-${version}
#create_wrksrc=yes
build_style=gnu-makefile
#configure_args=""
#make_build_args=""
#make_install_args=""
#conf_files=""
#make_dirs="/var/log/dir 0755 root root"
hostmakedepends=""
makedepends="libcap-devel readline-devel acl-devel"
depends=""
short_desc="Completely command-line-based, shell-like file manager"
maintainer="Ramdziana F Y <ramdzian@gmail.com>"
license="GPL-2.0-or-later"
homepage="https://github.com/leo-arch/clifm"
distfiles="https://github.com/leo-arch/clifm/archive/refs/tags/v${version}.tar.gz"
checksum=0fac66f50f34c1d7480fcc8f91b545fdddd069415d1ee9e80d7a1fbd12309f15

pre_build() {
    cd $wrksrc
}

post_build() {
    sed -i '/SHELL/a DESTDIR = /tmp/clifm' Makefile
    sed -i '/install:/a <TAB>@mkdir -p ${DESTDIR}' Makefile
    #sed -i 's/\/usr/$DESTDIR\/usr/g' Makefile
    sed -i '/^PREFIX/!s/\/usr/$DESTDIR\/usr/g' Makefile
}